{
  "description" : "Activate emergency route.\nThe function is made for emergency prioritization. Works in the same way as the M0006 and M0008 where the traffic light controller responds to an input.\nShould be used in situations where full priority is given in the emergency vehicle program.\nRequires security code 2.",
  "allOf" : [
    {
      "properties" : {
        "n" : {
          "enum" : [
            "emergencyroute",
            "securityCode",
            "status"
          ]
        },
        "cO" : {
          "const" : "setEmergency"
        }
      }
    },
    {
      "if" : {
        "required" : [
          "q"
        ],
        "properties" : {
          "q" : {
            "const" : "undefined"
          }
        }
      },
      "then" : {
        "s" : {
          "type" : "null"
        }
      },
      "else" : {
        "allOf" : [
          {
            "if" : {
              "required" : [
                "n"
              ],
              "properties" : {
                "n" : {
                  "const" : "status"
                }
              }
            },
            "then" : {
              "properties" : {
                "v" : {
                  "allOf" : [
                    {
                      "description" : "False: Deactivate emergency route\nTrue: Activate emergency route"
                    },
                    {
                      "$ref" : "../../../core/3.1.2/definitions.json#/boolean"
                    }
                  ]
                }
              }
            }
          },
          {
            "if" : {
              "required" : [
                "n"
              ],
              "properties" : {
                "n" : {
                  "const" : "securityCode"
                }
              }
            },
            "then" : {
              "properties" : {
                "v" : {
                  "description" : "Security code 2",
                  "type" : "string"
                }
              }
            }
          },
          {
            "if" : {
              "required" : [
                "n"
              ],
              "properties" : {
                "n" : {
                  "const" : "emergencyroute"
                }
              }
            },
            "then" : {
              "properties" : {
                "v" : {
                  "allOf" : [
                    {
                      "description" : "Number of emergency route"
                    },
                    {
                      "$ref" : "../../../core/3.1.2/definitions.json#/integer"
                    }
                  ]
                }
              }
            }
          }
        ]
      }
    }
  ]
}
