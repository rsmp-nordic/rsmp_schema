{
  "title" :  "Version",
  "description" :  "Version message",
  "properties" : {
    "mId" : { "$ref": "../3.1.2/definitions.json#/message_id" },
    "step" : {
      "description" : "Request or Response step",
      "type" : "string",
      "enum" : ["Request", "Response"]
    },
    "RSMP" : {
      "description" : "Supported RSMP versions",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "vers" : {
            "$ref": "../3.1.2/definitions.json#/version",
            "description" : "RSMP version"
          }
        },
        "required" : ["vers"],
        "additionalProperties" : false
      },
      "minItems" : 1,
      "uniqueItems" : true
    },
    "SXL" : {
      "$ref": "../3.1.2/definitions.json#/version",
      "description" : "SXL version"
    },
    "siteId" : {
      "description" : "Site ids",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "sId" : {
            "type" : "string",
            "minLength": 1
          }
        },
        "required" : [ "sId" ],
        "additionalProperties" : true
      },
      "minItems" : 1,
      "uniqueItems" : true
    },
    "receiveAlarms" : {
      "description" : "Whether supervisor wants to receive alarms (only in Response)",
      "type" : "boolean"
    }
  },
  "required" : [ "mId", "step", "RSMP", "SXL", "siteId" ],
  "additionalProperties" : true,
  "if": {
    "properties": { "step": { "const": "Response" } }
  },
  "then": {
    "properties": {
      "receiveAlarms": true
    }
  },
  "else": {
    "not": {
      "properties": {
        "receiveAlarms": true
      },
      "required": ["receiveAlarms"]
    }
  }
}